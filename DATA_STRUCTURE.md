# Структура файла `baikal_mc2020_multi_split_0924mid_eq_norm.h5`

## Дерево структуры файла

```
/
├── norm_param/                  # Параметры нормализации признаков
│   ├── mean                     # Средние значения (5,)
│   └── std                      # Стандартные отклонения (5,)
│
├── train/                       # Обучающая выборка
│   ├── channels/
│   │   └── data                 # ID каналов (1431319717,)
│   ├── data/
│   │   └── data                 # Признаки хитов (1431319717, 5)
│   ├── ev_ids/
│   │   └── data                 # ID событий (18687093,)
│   ├── ev_starts/
│   │   └── data                 # Индексы начала событий (18687094,)
│   ├── labels/
│   │   └── data                 # Метки хитов (1431319717,)
│   ├── num_un_strings/
│   │   └── data                 # Кол-во активных стрингов (18687093,)
│   ├── prime_prty/
│   │   └── data                 # Параметры первичной частицы (18687093, 6)
│   └── t_res/
│       └── data                 # Временные невязки/поправки (1431319717,)
│
├── test/                        # Тестовая выборка (структура аналогична train)
│   ├── ...
│
└── val/                         # Валидационная выборка (структура аналогична train)
    ├── ...
```

## Подробное описание разделов с примерами

### 1. Параметры нормализации (`norm_param`)
Секция содержит статистики, использованные для Z-score нормализации входных признаков.
- **`mean`**: Вектор средних значений для каждого из 5 признаков.
  - *Пример:* `[ 1.309e+00, -2.472e-09, 6.947e-01, 3.872e-01, 3.255e+01]`
- **`std`**: Вектор стандартных отклонений для каждого из 5 признаков.
  - *Пример:* `[ 3.787, 1385.589, 40.128, 39.014, 154.535]`

### 2. Секции данных (`train`, `test`, `val`)

#### Атрибуты событий (Event-level Data)
Данные, описывающие событие целиком. Индекс `i` соответствует i-му событию.

- **`ev_ids/data`**: Уникальные строковые идентификаторы событий.
  - `muatm`: Атмосферные мюоны (фон). (10,832,260 событий)
  - `nuatm`: Атмосферные нейтрино. (6,194,409 событий)
  - `nue2`: Электронные нейтрино. (1,660,424 события)
  - *Пример (первые 5):* `['nuatm_2316_13672', 'nuatm_2184_34108', 'muatm_64333_14309', 'muatm_38177_4356', 'nuatm_4165_7488']`
 
- **`prime_prty/data`**: Физические параметры первичной частицы (Monte Carlo Truth).
  - *Пример (первое событие):* `[ 29.338, 276.598, 20.456, 1.0, 1.0, 0.402]`
  
- **`num_un_strings/data`**: Количество уникальных стрингов (гирлянд) в событии.
  - *Пример (первые 5):* `[7, 7, 8, 8, 8]`
  
- **`ev_starts/data`**: Индексы начала событий в массивах хитов. Позволяет "нарезать" плоские массивы хитов на события.
  - *Пример (первые 5):* `[0, 82, 167, 259, 332]`
  - *Пояснение:* Первое событие занимает индексы хитов `0:82` (82 хита). Второе — `82:167` (85 хитов).

#### Атрибуты хитов (Hit-level Data)
Данные по каждому срабатыванию (хиту). Все события склеены подряд.

- **`data/data`**: Матрица признаков `(N, 5)`. Нормализованные данные.
  - *Пример (первые 5 хитов первого события):*
    ```
    [[-0.109, -1.688, -1.065,  0.976,  1.291],
     [ 0.035, -1.686,  0.065, -0.014,  1.423],
     [-0.063, -1.668, -1.568, -0.319, -0.552],
     [-0.134, -1.572,  1.535, -0.403,  0.999],
     [-0.101, -1.563, -1.568, -0.319, -0.163]]
    ```
    
- **`channels/data`**: ID оптических модулей (OM ID).
  - *Пример (первые 5):* `[249, 286, 194, 102, 198]`
  
- **`labels/data`**: Метка класса для каждого хита (например, 0 - шум, 1 - сигнал).
  - *Пример (первые 5):* `[0, 0, 0, 0, 0]`

- **`t_res/data`**: Временные данные (residuals).
  - *Пример (первые 5):* `[3416.4, 3404.97, 2487.32, 2892.78, 2502.0]`